<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />

  <!-- mobile responsive meta -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>웹성능 최적화 - 웹폰트</title>
  <meta
    name="description"
    content="웹퍼블리셔 정혜인 개인 포트폴리오"
  />

  <link rel="canonical" href="https://henyy1004.github.io/2020/01/08/webFont/" />
  <link rel="alternate" type="application/rss+xml" title="Jung Hyein – Portfolio" href="/feed.xml">
    <!-- Fonts -->
    <link
      media="none"
      href="https://fonts.googleapis.com/css?family=Lora:400,400i,700&display=swap"
      rel="stylesheet"
      onload="this.media='all'"
    />
    <link
    media="none"
      href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono&display=swap"
      rel="stylesheet"
      onload="this.media='all'"
    />
    <link
    media="none"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+KR&display=swap"
      rel="stylesheet"
      onload="this.media='all'"
    />

  <!-- Main Stylesheet -->
  <link href="/assets/css/main.css" rel="stylesheet" />
</head>


<body>

  

  <div class="container-full">
  <!-- begin header -->
  <header class="header">

    <div class="logo">
      <a class="logo__link" href="/">
      
        Hyein Portfolio
      
      </a>
    </div>

    <nav class="main-nav">
      <span class="main-nav__open">menu</span>

      <div class="main-nav__box">
        <span class="main-nav__close">Close</span>

        <ul class="nav__list list-reset">
          <li class="nav__item">
            <a href="/" class="nav__link">Home</a>
          </li>
          
            
          
            
          
          <li class="nav__item">
            <a href="/about/" class="nav__link">About</a>
          </li>
          
            
          
            
          
            
          
            
          
            
          
            
          
          <li class="nav__item">
            <a href="/post/" class="nav__link">Post</a>
          </li>
          
            
          
            
          
          <li class="nav__item">
            <a href="/resume/" class="nav__link">Resume</a>
          </li>
          
            
          
            
          
          <li class="nav__item">
            <a href="/works/" class="nav__link">Works</a>
          </li>
          
            
          
            
          
            
          
            
          
            
          
        </ul>

      </div>

    </nav>

  </header>
  <!-- end header -->
</div>


  <!-- begin content -->
  <main class="content" aria-label="Content">
    <div class="container">
  <!-- begin post -->
  <article class="post">
    <div
      class="post__head"
      data-aos="fade-up"
      data-aos-easing="ease-out-quad"
      data-aos-duration="700"
    >
      <h1 class="post__title">웹성능 최적화 - 웹폰트</h1>
      <div class="post__date">
        <time datetime="2020-01-08T00:05:55+09:00"
          >Published Jan 08, 2020</time
        >
      </div>
      
    </div>

    <div
      class="post__content"
      data-aos="fade-up"
      data-aos-easing="ease-out-quad"
      data-aos-delay="100"
      data-aos-duration="700"
    >
      <h2 id="웹폰트란">웹폰트란?</h2>
<p>웹폰트란 방문자의 로컬 컴퓨터에 폰트 설치 여부와 상관 없이 온라인의 특정 서버에 위치한 폰트 파일을 다운로드하여 화면에 표시해주는 웹 전용 폰트.</p>

<h2 id="웹폰트로드를-개선해여-웹성능-최적화">웹폰트로드를 개선해여 웹성능 최적화</h2>
<p>구글 웹폰트를 CDN으로 불러올시 외부네트워크에서 받아오기 때문에 네트워크 환경이나 용량에 따라 속도가 느려질 수 있다.
웹성능을 최적화하기 위해서는 리소스들 역시 용량은 낮추고 다운로드 속도는 빠르게하여 최적화시켜주어야 한다. 그 방법으로는 여러가지가 있는데 포트폴리오에 실험해본 내용은 2가지이다.</p>

<ul>
  <li>Google Web font loader</li>
  <li>media=”none” 방법</li>
</ul>

<h3 id="google-web-font-loader">Google Web font loader</h3>
<p>구글 폰트에서 제공하는 web font loader API이다.
웹 글꼴 로더는 Google Fonts API가 제공하는 것보다 글꼴로드를보다 효과적으로 제어 할 수있는 JavaScript 라이브러리이다. 웹 글꼴 로더를 사용하면 여러 웹 글꼴을 불러올 수 있다. Google과 Typekit 이 공동 개발하였다.</p>

<h4 id="사용법">사용법</h4>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ko"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"ie=edge"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Google Web font loader<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="c">&lt;!-- webfont.js 불러오기 --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- 불러올 webfont 설정 --&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">WebFont</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
    <span class="na">google</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">families</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">Lora</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">IBM Plex Mono</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">Noto Serif KR</span><span class="dl">'</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>web font loader는 위처럼 CDN으로 불러올 수 있고, npm 으로 install하여 사용할 수 있다.
자세한 API Guide는 <a href="https://github.com/typekit/webfontloader">Github repository</a>에서 확인</p>

<h3 id="medianone">media=”none”</h3>
<p>조금 생소한 방법일 수 있는데 midea=”none”속성을 이용하면 리소스 블록킹을 막아준다고 한다.</p>

<h4 id="사용법-1">사용법</h4>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"reset.css"</span> <span class="na">media=</span><span class="s">"none"</span> <span class="na">onload=</span><span class="s">"this.media='all';"</span><span class="nt">&gt;</span>

<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"font.css"</span> <span class="na">media=</span><span class="s">"none"</span> <span class="na">onload=</span><span class="s">"this.media='all';"</span><span class="nt">&gt;</span>
</code></pre></div></div>
<p>불러올 css에 <code class="highlighter-rouge">media="none"</code>속성과 <code class="highlighter-rouge">onload="this.media='all'"</code>를 함께 적용해주면 된다.</p>

<h2 id="결과">결과</h2>
<h3 id="최적화하지-않은-cdn">최적화하지 않은 CDN</h3>
<p><img src="/assets/img/post/cdn.png" alt="CDN적용" /></p>
<h3 id="web-font-load-적용">web font load 적용</h3>
<p><img src="/assets/img/post/fontload.png" alt="web font load 적용" /></p>
<h3 id="medianone-적용">media=”none “적용</h3>
<p><img src="/assets/img/post/media.png" alt="web font load 적용" /></p>

<p>최종적으로 웹폰트를 최적화했을때 환경에서
<code class="highlighter-rouge">FCP</code>,<code class="highlighter-rouge">FMP</code>,<code class="highlighter-rouge">TTF</code>의 속도가 단축되었다.
<code class="highlighter-rouge">FCP</code>,<code class="highlighter-rouge">FMP</code>,<code class="highlighter-rouge">TTF</code>는 웹성능을 측정하는 기준인데 속도가 빠를수록 좋다.</p>

<p>포트폴리오에서 사용중인 웹폰트는 구글웹폰트이기 때문에 적용할 수 있는 두가지정도의 최적화 방법을 사용하였지만
직접 파일을 올려 웹폰트를 불러오는 방식에서는 또 다른 여러가지 최적화방법이 존재한다.
<code class="highlighter-rouge">Font Face Observer 라이브러리</code>, <code class="highlighter-rouge">CSS의 font-display 속성</code>, <code class="highlighter-rouge">서브셋폰트</code>사용, <code class="highlighter-rouge">unicode-range</code>속성 등
그러나 무조건적인 사용보다는 고려하는 환경, 의존성을 생각하여 최적화를 진행하여야 한다.</p>

<p>예를 들어 구글웹폰트는 <code class="highlighter-rouge">woff</code>,<code class="highlighter-rouge">woff2</code>만 지원한다. 따라서 IE8이하의 브라우저를 고려하고 있는 환경에서는 적합하지 않기때문에
구글 폰트를 사용할 수 없으며 따라서 <code class="highlighter-rouge">google web font loader</code>는 사용할 수 없다.</p>

<p>또한 스크립트를 이용한 최적화방법을 쓸 때는 스크립트가 호환되지 않을 때도 고려해야한다.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;noscript&gt;</span>
    <span class="nt">&lt;link</span>
        <span class="na">href=</span><span class="s">"https://fonts.googleapis.com/css?family=Lora:400,400i,700&amp;display=swap"</span>
        <span class="na">rel=</span><span class="s">"stylesheet"</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span>
        <span class="na">href=</span><span class="s">"https://fonts.googleapis.com/css?family=IBM+Plex+Mono&amp;display=swap"</span>
        <span class="na">rel=</span><span class="s">"stylesheet"</span>
    <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span>
        <span class="na">href=</span><span class="s">"https://fonts.googleapis.com/css?family=Noto+Serif+KR&amp;display=swap"</span>
        <span class="na">rel=</span><span class="s">"stylesheet"</span>
    <span class="nt">/&gt;</span>
<span class="nt">&lt;/noscript&gt;</span>
</code></pre></div></div>
<p>위처럼 스크립트 호환이 정지되어있는 브라우저를 고려하여 일반 cdn방식으로 불러오는 코드를 추가해주면 된다.</p>

    </div>

    

    <!-- <div class="post__share">
      <ul class="share__list list-reset">
        <li class="share__item">
          <a
            class="share__link share__facebook"
            href="https://www.facebook.com/sharer/sharer.php?u=https://henyy1004.github.io/2020/01/08/webFont/"
            onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
            title="Share on Facebook"
            rel="nofollow"
          >
            <svg
              enable-background="new 0 0 56.693 56.693"
              height="56.693"
              viewBox="0 0 56.693 56.693"
              width="56.693"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="m40.43 21.739h-7.645v-5.014c0-1.883 1.248-2.322 2.127-2.322h5.395v-8.278l-7.43-.029c-8.248 0-10.125 6.174-10.125 10.125v5.518h-4.77v8.53h4.77v24.137h10.033s0-13.32 0-24.137h6.77z"
              />
            </svg>
          </a>
        </li>

        <li class="share__item">
          <a
            class="share__link share__twitter"
            href="https://twitter.com/intent/tweet?text=%EC%9B%B9%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20-%20%EC%9B%B9%ED%8F%B0%ED%8A%B8&url=https://henyy1004.github.io/2020/01/08/webFont/"
            onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
            title="Share on Twitter"
            rel="nofollow"
          >
            <svg
              enable-background="new 0 0 56.693 56.693"
              height="56.693"
              viewBox="0 0 56.693 56.693"
              width="56.693"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="m52.837 15.065c-1.811.805-3.76 1.348-5.805 1.591 2.088-1.25 3.689-3.23 4.444-5.592-1.953 1.159-4.115 2-6.418 2.454-1.843-1.964-4.47-3.192-7.377-3.192-5.581 0-10.106 4.525-10.106 10.107 0 .791.089 1.562.262 2.303-8.4-.422-15.848-4.445-20.833-10.56-.87 1.492-1.368 3.228-1.368 5.082 0 3.506 1.784 6.6 4.496 8.412-1.656-.053-3.215-.508-4.578-1.265-.001.042-.001.085-.001.128 0 4.896 3.484 8.98 8.108 9.91-.848.23-1.741.354-2.663.354-.652 0-1.285-.063-1.902-.182 1.287 4.015 5.019 6.938 9.441 7.019-3.459 2.711-7.816 4.327-12.552 4.327-.815 0-1.62-.048-2.411-.142 4.474 2.869 9.786 4.541 15.493 4.541 18.591 0 28.756-15.4 28.756-28.756 0-.438-.009-.875-.028-1.309 1.974-1.422 3.688-3.203 5.042-5.23z"
              />
            </svg>
          </a>
        </li>

        <li class="share__item">
          <a
            class="share__link share__pinterest"
            href="http://pinterest.com/pin/create/button/?url=https://henyy1004.github.io/2020/01/08/webFont/&amp;media=https://henyy1004.github.io&amp;description=%EC%9B%B9%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20-%20%EC%9B%B9%ED%8F%B0%ED%8A%B8"
            onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"
            title="Share on Pinterest"
            rel="nofollow"
          >
            <svg
              enable-background="new 0 0 56.693 56.693"
              height="56.693"
              viewBox="0 0 56.693 56.693"
              width="56.693"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="m28.348 5.158c-13.599 0-24.625 11.023-24.625 24.625 0 10.082 6.063 18.744 14.739 22.553-.069-1.721-.012-3.783.429-5.654.473-2 3.168-13.418 3.168-13.418s-.787-1.572-.787-3.896c0-3.648 2.115-6.373 4.749-6.373 2.24 0 3.322 1.682 3.322 3.695 0 2.252-1.437 5.619-2.175 8.738-.616 2.613 1.31 4.744 3.887 4.744 4.665 0 7.808-5.992 7.808-13.092 0-5.397-3.635-9.437-10.246-9.437-7.47 0-12.123 5.57-12.123 11.792 0 2.146.633 3.658 1.624 4.83.455.537.519.754.354 1.371-.118.453-.389 1.545-.501 1.977-.164.625-.669.848-1.233.617-3.44-1.404-5.043-5.172-5.043-9.408 0-6.994 5.899-15.382 17.599-15.382 9.4 0 15.588 6.804 15.588 14.107 0 9.658-5.369 16.875-13.285 16.875-2.659 0-5.16-1.438-6.016-3.068 0 0-1.43 5.674-1.732 6.768-.522 1.9-1.545 3.797-2.479 5.275 2.215.654 4.554 1.01 6.979 1.01 13.598 0 24.623-11.023 24.623-24.623-.001-13.603-11.027-24.626-24.624-24.626z"
              />
            </svg>
          </a>
        </li>
      </ul>
    </div> -->

    <div class="post__navigation">
      
      <a class="prev" href="/2020/01/04/es6/">
        <div class="prev__post-icon">
          <svg
            enable-background="new 0 0 512 512"
            height="512"
            viewBox="0 0 512 512"
            width="512"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="m352 128.4-32.3-32.4-159.7 160 159.7 160 32.3-32.4-127.3-127.6z" />
          </svg>
        </div>
        <span class="post__nav-wrapper">
          <div
            class="post__nav-image"
            style="background-image: url()"
          ></div>
          <h2 class="post__nav-title">
            <time datetime="2020-01-08T00:05:55+09:00"
              >Jan 08, 2020</time
            >
            <br />IE와 ES6
          </h2>
        </span>
      </a>
       
      <a class="next" href="/2020/01/13/SASS/">
        <div class="next__post-icon">
          <svg
            enable-background="new 0 0 512 512"
            height="512"
            viewBox="0 0 512 512"
            width="512"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="m160 128.4 32.3-32.4 159.7 160-159.7 160-32.3-32.4 127.3-127.6z" />
          </svg>
        </div>
        <span class="post__nav-wrapper">
          <div
            class="post__nav-image"
            style="background-image: url()"
          ></div>
          <h2 class="post__nav-title">
            <time datetime="2020-01-08T00:05:55+09:00"
              >Jan 08, 2020</time
            >
            <br />SASS
          </h2>
        </span>
      </a>
      
    </div>
    <!-- 
    
      <div class="show-comments">
    <button class="disqus-button" id="show-comments-button" onclick="disqus();return false;">Leave a comment</button>
</div>

<div id="disqus_thread"></div>

<script>
var disqus_loaded = false;
var disqus_shortname = 'Hyein'; // Add your shortname here
function disqus() {
  if (!disqus_loaded)  {
      disqus_loaded = true;
      var e = document.createElement("script");
      e.type = "text/javascript";
      e.async = true;
      e.src = "//" + disqus_shortname + ".disqus.com/embed.js";
      (document.getElementsByTagName("head")[0] ||
      document.getElementsByTagName("body")[0])
      .appendChild(e);
      // Hide the button after opening
      document.getElementById("show-comments-button").style.display = "none";
  }
}
</script>
<noscript>Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>

     -->
  </article>
  <!-- end post -->
</div>

  </main>
  <!-- end content -->

  <div class="container">
  <!-- begin footer -->
  <footer class="footer">
    <div class="footer__inner">
      <div class="contact">
        <div class="contact__title">
          Work inquiry, question or something else?
          <a href="mailto:junghi0327@gmail.com" target="_blank">Email me</a>.
        </div>
        <ul class="contact__list list-reset">
          
          <li class="contact__item">
            <a class="contact__link" href="https://twitter.com/">Twitter</a>
          </li>
          
          <li class="contact__item">
            <a class="contact__link" href="https://facebook.com/">Facebook</a>
          </li>
          
          <li class="contact__item">
            <a class="contact__link" href="https://instagram.com/">Instagram</a>
          </li>
          
        </ul>
      </div>
    </div>
  </footer>
  <!-- end footer -->
</div>


  <!-- begin js -->
  <script src="/assets/js/vendors/jquery-3.3.1.min.js"></script>
  <script src="/assets/js/vendors/aos.js"></script>
  <script src="/assets/js/vendors/jquery.fitvids.js"></script>
  <script src="/assets/js/common.js"></script>
  
  <!-- end js -->
</body>

</html>
